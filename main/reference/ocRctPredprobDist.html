<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate operating characteristics for RCT against SOC, using the predictive probability method with beta priors — ocRctPredprobDist • phase1b</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate operating characteristics for RCT against SOC, using the predictive probability method with beta priors — ocRctPredprobDist"><meta name="description" content="We emulate a randomized-controlled trial setting where at any given sample size,
there exists the number of patients enrolled in either standard of care (SOC) or control arm, and
a treatment or experimental arm. The allocation of patients will depend on the
randomization ratio set by the user and is rounded to the next higher integer.
Therefore the sequence of patients is determined from the start, such that the number of
patients in both arms is constant across trial simulations, however the number of patients
within the control and treatment arm is determined by the randomisation ratio.
Interim looks are for sample sizes below that of the final sample size."><meta property="og:description" content="We emulate a randomized-controlled trial setting where at any given sample size,
there exists the number of patients enrolled in either standard of care (SOC) or control arm, and
a treatment or experimental arm. The allocation of patients will depend on the
randomization ratio set by the user and is rounded to the next higher integer.
Therefore the sequence of patients is determined from the start, such that the number of
patients in both arms is constant across trial simulations, however the number of patients
within the control and treatment arm is determined by the randomisation ratio.
Interim looks are for sample sizes below that of the final sample size."><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125641273-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-125641273-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">phase1b</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">`phase1b`: Tools for Decision Making in Phase 1b Studies</a></li>
    <li><a class="dropdown-item" href="../articles/test.html">test</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/genentech/phase1b"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate operating characteristics for RCT against SOC, using the predictive probability method with beta priors</h1>
      <small class="dont-index">Source: <a href="https://github.com/genentech/phase1b/blob/main/R/ocRctPredprobDist.R" class="external-link"><code>R/ocRctPredprobDist.R</code></a></small>
      <div class="d-none name"><code>ocRctPredprobDist.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>We emulate a randomized-controlled trial setting where at any given sample size,
there exists the number of patients enrolled in either standard of care (SOC) or control arm, and
a treatment or experimental arm. The allocation of patients will depend on the
randomization ratio set by the user and is rounded to the next higher integer.
Therefore the sequence of patients is determined from the start, such that the number of
patients in both arms is constant across trial simulations, however the number of patients
within the control and treatment arm is determined by the randomisation ratio.
Interim looks are for sample sizes below that of the final sample size.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ocRctPredprobDist</span><span class="op">(</span></span>
<span>  <span class="va">nnE</span>,</span>
<span>  <span class="va">pE</span>,</span>
<span>  <span class="va">pS</span>,</span>
<span>  <span class="va">deltaE</span>,</span>
<span>  <span class="va">deltaF</span>,</span>
<span>  phiL <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">phiFu</span>,</span>
<span>  phiFu <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">phiL</span>,</span>
<span>  <span class="va">phiU</span>,</span>
<span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">tT</span>,</span>
<span>  <span class="va">tF</span>,</span>
<span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">weights</span>,</span>
<span>  <span class="va">weightsS</span>,</span>
<span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">sim</span>,</span>
<span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nnF <span class="op">=</span> <span class="va">nnE</span>,</span>
<span>  decision1 <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nne">nnE<a class="anchor" aria-label="anchor" href="#arg-nne"></a></dt>
<dd><p>(<code>numeric</code>):<br> sample size or sizes where study can be stopped for Efficacy decision. If <code>0</code> or <code>NULL</code> and
<code>length(nnE) = 1</code> then no Efficacy looks are performed.</p></dd>


<dt id="arg-pe">pE<a class="anchor" aria-label="anchor" href="#arg-pe"></a></dt>
<dd><p>(<code>number</code>):<br> Response rate in Treatment group.</p></dd>


<dt id="arg-ps">pS<a class="anchor" aria-label="anchor" href="#arg-ps"></a></dt>
<dd><p>(<code>number</code>):<br> Response rate in Control group.</p></dd>


<dt id="arg-deltae">deltaE<a class="anchor" aria-label="anchor" href="#arg-deltae"></a></dt>
<dd><p>(<code>number</code>):<br> margin by which the response rate in the treatment group should
be better than in the standard of care or control or <code>S</code> group in Efficacy looks only.
Note that this can also be negative as well.</p></dd>


<dt id="arg-deltaf">deltaF<a class="anchor" aria-label="anchor" href="#arg-deltaf"></a></dt>
<dd><p>(<code>number</code>):<br> margin by which the response rate in the treatment group should
be better than in the standard of care or control or <code>S</code> group in Futility looks only.
Note that this can also be negative as well.</p></dd>


<dt id="arg-phil">phiL<a class="anchor" aria-label="anchor" href="#arg-phil"></a></dt>
<dd><p>(<code>number</code>):<br> lower threshold on the predictive probability.</p></dd>


<dt id="arg-phifu">phiFu<a class="anchor" aria-label="anchor" href="#arg-phifu"></a></dt>
<dd><p>(<code>number</code>):<br> upper threshold on the predictive probability.</p></dd>


<dt id="arg-phiu">phiU<a class="anchor" aria-label="anchor" href="#arg-phiu"></a></dt>
<dd><p>(<code>number</code>):<br> upper threshold on the predictive probability.</p></dd>


<dt id="arg-relativedelta">relativeDelta<a class="anchor" aria-label="anchor" href="#arg-relativedelta"></a></dt>
<dd><p>(<code>flag</code>):<br> If <code>TRUE</code>, then a <code>relativeDelta</code> is used. Represents that a minimum
response rate in magnitude of <code>delta</code> of the <code>S</code> non-responding patients. See <code><a href="postprobDist.html">postprobDist()</a></code>.</p></dd>


<dt id="arg-tt">tT<a class="anchor" aria-label="anchor" href="#arg-tt"></a></dt>
<dd><p>(<code>number</code>):<br> threshold of which assumed <code>truep</code> exceeds acceptable threshold of <code>p0</code>.</p></dd>


<dt id="arg-tf">tF<a class="anchor" aria-label="anchor" href="#arg-tf"></a></dt>
<dd><p>(<code>number</code>):<br> threshold of which assumed <code>truep</code> does not exceed threshold of <code>p1</code>.</p></dd>


<dt id="arg-pare">parE<a class="anchor" aria-label="anchor" href="#arg-pare"></a></dt>
<dd><p>(<code>numeric</code>):<br> alpha and beta parameters for the prior on the treatment population.
Default set at alpha = 1, beta = 1, or uniform prior.</p></dd>


<dt id="arg-pars">parS<a class="anchor" aria-label="anchor" href="#arg-pars"></a></dt>
<dd><p>(<code>numeric</code>):<br> parameters for beta distribution. If it is a matrix, it needs to have 2 columns,
and each row corresponds to each component of a beta-mixture distribution for the <code>S</code> group.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>(<code>numeric</code>):<br> the mixture weights of the beta mixture prior.</p></dd>


<dt id="arg-weightss">weightsS<a class="anchor" aria-label="anchor" href="#arg-weightss"></a></dt>
<dd><p>(<code>numeric</code>):<br> weights for the <code>S</code> group.</p></dd>


<dt id="arg-randratio">randRatio<a class="anchor" aria-label="anchor" href="#arg-randratio"></a></dt>
<dd><p>(<code>numeric</code>):<br> The randomisation ratio between treatment and control. Must be greater than 0 and maximum of 1.</p></dd>


<dt id="arg-sim">sim<a class="anchor" aria-label="anchor" href="#arg-sim"></a></dt>
<dd><p>(<code>number</code>):<br> number of simulations.</p></dd>


<dt id="arg-wiggle">wiggle<a class="anchor" aria-label="anchor" href="#arg-wiggle"></a></dt>
<dd><p>(<code>flag</code>):<br> generate random look locations (not default). If <code>wiggle = TRUE</code> and <code>nnE = nnF</code>, then all wiggled
looks are the same between <code>nnE</code> and <code>nnF</code>.</p></dd>


<dt id="arg-nnf">nnF<a class="anchor" aria-label="anchor" href="#arg-nnf"></a></dt>
<dd><p>(<code>numeric</code>):<br> sample size or sizes where study can be stopped for Efficacy decision. If <code>0</code> or <code>NULL</code> and
<code>length(nnF) = 1</code> then no Futility looks are performed.</p></dd>


<dt id="arg-decision-">decision1<a class="anchor" aria-label="anchor" href="#arg-decision-"></a></dt>
<dd><p>(<code>flag</code>):<br> Flag if <code>decision1 = TRUE</code> then Decision 1 rules will be used, otherwise Decision 2 rules will be used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Final looks are only performed at the maximum sample size.</p>
<p>At each interim or final look, a futility or efficacy or both can be performed.</p>
<p>The rules for Stop, Go and Gray Zone (where applicable), and use of beta priors are the same
as in <code><a href="ocPredprobDist.html">ocPredprobDist()</a></code> where the only difference here is to emulate a
randomized-controlled trial setting.</p>
<p>The returned value is a list with the following elements:</p><ul><li><p><code>oc</code>: matrix with operating characteristics with the following details:</p></li>
<li><p><code>ExpectedN</code>: expected number of patients in the trials in both treatment and SOC group</p></li>
<li><p><code>ExpectedNactive</code> : the mean of the number of patients in treatment arm</p></li>
<li><p><code>ExpectedNcontrol</code>: the mean of the number of patients in control arm</p></li>
<li><p><code>PrStopEarly</code>: probability to stop the trial early (before reaching the maximum sample size)</p></li>
<li><p><code>PrEarlyEff</code>: probability of Early Go decision</p></li>
<li><p><code>PrEarlyFut</code>: probability of Early Stop decision</p></li>
<li><p><code>PrEfficacy</code>: probability of Go decision</p></li>
<li><p><code>PrFutility</code>: probability of Stop decision</p></li>
<li><p><code>PrGrayZone</code>: probability of Evaluate or "Gray Zone" decision (between Go and Stop)</p></li>
<li><p><code>Decision</code> : results in <code>logical</code> with <code>TRUE</code> as Go, <code>FALSE</code> as Stop and <code>NA</code> as Evaluate decision.</p></li>
<li><p><code>SampleSize</code> : numeric of sample sizes from <code>nnE</code> or <code>nnF</code> or both.</p></li>
<li><p><code>SampleSizeActive</code> : numeric of sample sizes in the treatment or experimental arm.</p></li>
<li><p><code>SampleSizeControl</code> : numeric of sample sizes in either standard of care (SOC) or control arm.</p></li>
<li><p><code>union_nn</code> : unique <code>nnE</code> and <code>nnF</code> looks.</p></li>
<li><p><code>wiggled_nnE</code> : user input for <code>nnE</code> with random distance applied.</p></li>
<li><p><code>wiggled_nnF</code> : user input for <code>nnF</code> with random distance applied.</p></li>
<li><p><code>wiggled_dist</code> : magnitude of random distance applied in order of input looks.</p></li>
<li><p><code>params</code> : all user input arguments.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># When `relativeDelta = TRUE`:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPredprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  phiU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  phiFu <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  tT <span class="op">=</span> <span class="fl">0.6</span>,</span></span>
<span class="r-in"><span>  tF <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  weights <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  weightsS <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  decision1 <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      11.2        0.96       0.12       0.84       0.14       0.84       0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            5.62             5.58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]    NA FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 30 10 10 10 10 10 10 10 10 10 10 10 10 30 10 10 10 10 20 10 10 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 10 10 10 10 20 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15  5  5  5  5  6  5  5  4  3  3  5  4 15  6  7  6  6  9  4  3  5  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7  6  4  4 11  7  4  8  5  6  6  4  4  4  6  6  7  3  3  3  5  7  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15  5  5  5  5  4  5  5  6  7  7  5  6 15  4  3  4  4 11  6  7  5  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  3  4  6  6  9  3  6  2  5  4  4  6  6  6  4  4  3  7  7  7  5  3  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPredprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiFu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weightsS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$decision1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When `relativeDelta = FALSE`:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPredprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  phiU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  phiFu <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  tT <span class="op">=</span> <span class="fl">0.6</span>,</span></span>
<span class="r-in"><span>  tF <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  weights <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  weightsS <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  decision1 <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        11        0.98       0.04       0.94       0.04       0.94       0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             5.5              5.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]    NA FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 30 10 10 10 10 10 10 10 10 10 10 10 10 20 10 10 10 10 10 10 10 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 10 10 10 10 10 10 10 10 10 10 20 10 10 10 10 10 10 10 10 10 10 10 20 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15  5  5  5  5  6  5  5  4  3  3  5  4  9  6  7  6  6  5  4  3  5  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7  6  4  4  5  7  4  8  5  6 11  4  4  4  6  6  7  3  3  3  5  7  8  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15  5  5  5  5  4  5  5  6  7  7  5  6 11  4  3  4  4  5  6  7  5  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  3  4  6  6  5  3  6  2  5  4  9  6  6  6  4  4  3  7  7  7  5  3 12  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPredprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiFu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weightsS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$decision1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Only one Futility look:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPredprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>  phiU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  phiFu <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  tT <span class="op">=</span> <span class="fl">0.6</span>,</span></span>
<span class="r-in"><span>  tF <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  weights <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  weightsS <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>  decision1 <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      20.4        0.92       0.06       0.86        0.1       0.86       0.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            10.1             10.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]    NA FALSE FALSE FALSE FALSE FALSE FALSE    NA FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 30 20 20 20 20 20 20 30 20 20 20 20 20 20 20 20 20 20 20 20 30 20 20 20 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 20 20 10 20 30 20 20 20 20 20 20 20 20 20 20 20 20 10 20 20 20 20 20 20 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15 12 11  9 10 11 10 15 10  7  8 12  8  9 11  9 10  9  9 10 15  9 13 11  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 13 11  4 11 15 10 11 12 10 10 11  9  9 10  8 12 10  3 10  8 10 11  8  9  9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15  8  9 11 10  9 10 15 10 13 12  8 12 11  9 11 10 11 11 10 15 11  7  9 12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7  9  6  9 15 10  9  8 10 10  9 11 11 10 12  8 10  7 10 12 10  9 12 11 11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPredprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiFu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weightsS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$decision1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When `deltaF = 0`:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPredprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  phiU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  phiFu <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  tT <span class="op">=</span> <span class="fl">0.6</span>,</span></span>
<span class="r-in"><span>  tF <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  weights <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  weightsS <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  decision1 <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      12.4        0.92       0.06       0.86       0.08       0.88       0.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            6.18             6.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]    NA FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] FALSE    NA FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 30 10 10 10 10 20 10 10 10 10 20 10 10 30 10 10 10 10 20 10 10 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 10 10 10 10 30 10 10 10 10 10 30 10 10 10 10 10 10 10 10 10 10 10 20 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15  5  5  5  5 11  5  5  4  3  8  5  4 15  6  7  6  6  9  4  3  5  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7  6  4  4 15  7  4  8  5  6 15  4  4  4  6  6  7  3  3  3  5  7  8  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 15  5  5  5  5  9  5  5  6  7 12  5  6 15  4  3  4  4 11  6  7  5  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  3  4  6  6 15  3  6  2  5  4 15  6  6  6  4  4  3  7  7  7  5  3 12  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPredprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiFu</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$phiU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weights</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$weightsS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$decision1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel Sabanes Bove, Markus Elze, Tony Pourmohamad, Jiawen Zhu, James Lymp, Anastasia Teterina, F. Hoffmann-La Roche Ltd.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

