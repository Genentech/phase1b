<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="We emulate a randomized-controlled trial setting where at any given sample size,
there exists the number of patients enrolled in either standard of care (SOC) or control arm, and
a treatment or experimental arm. The allocation of patients will depend on the
randomization ratio set by the user and is rounded to the next higher integer.
Therefore the sequence of patients is determined from the start, such that the number of
patients in both arms is constant across trial simulations, however the number of patients
within the control and treatment arm is determined by the randomisation ratio.
Interim looks are for sample sizes below that of the final sample size."><title>Calculate operating characteristics for RCT against SOC, using the posterior probability method with beta priors — ocRctPostprobDist • phase1b</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate operating characteristics for RCT against SOC, using the posterior probability method with beta priors — ocRctPostprobDist"><meta property="og:description" content="We emulate a randomized-controlled trial setting where at any given sample size,
there exists the number of patients enrolled in either standard of care (SOC) or control arm, and
a treatment or experimental arm. The allocation of patients will depend on the
randomization ratio set by the user and is rounded to the next higher integer.
Therefore the sequence of patients is determined from the start, such that the number of
patients in both arms is constant across trial simulations, however the number of patients
within the control and treatment arm is determined by the randomisation ratio.
Interim looks are for sample sizes below that of the final sample size."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125641273-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-125641273-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">phase1b</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">`phase1b`: Tools for Decision Making in Phase 1b Studies</a>
    <a class="dropdown-item" href="../articles/test.html">test</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://Genentech.github.io/phase1b/main">main</a> </div></li>
<!-- end dropdown for versions -->
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/genentech/phase1b">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Calculate operating characteristics for RCT against SOC, using the posterior probability method with beta priors</h1>
      <small class="dont-index">Source: <a href="https://github.com/genentech/phase1b/blob/HEAD/R/ocRctPostprobDist.R" class="external-link"><code>R/ocRctPostprobDist.R</code></a></small>
      <div class="d-none name"><code>ocRctPostprobDist.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>We emulate a randomized-controlled trial setting where at any given sample size,
there exists the number of patients enrolled in either standard of care (SOC) or control arm, and
a treatment or experimental arm. The allocation of patients will depend on the
randomization ratio set by the user and is rounded to the next higher integer.
Therefore the sequence of patients is determined from the start, such that the number of
patients in both arms is constant across trial simulations, however the number of patients
within the control and treatment arm is determined by the randomisation ratio.
Interim looks are for sample sizes below that of the final sample size.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ocRctPostprobDist</span><span class="op">(</span></span>
<span>  <span class="va">nnE</span>,</span>
<span>  <span class="va">pE</span>,</span>
<span>  <span class="va">pS</span>,</span>
<span>  <span class="va">deltaE</span>,</span>
<span>  <span class="va">deltaF</span>,</span>
<span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">tL</span>,</span>
<span>  <span class="va">tU</span>,</span>
<span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">sim</span>,</span>
<span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  nnF <span class="op">=</span> <span class="va">nnE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>nnE</dt>
<dd><p>(<code>numeric</code>):<br> sample size or sizes where study can be stopped for Efficacy decision. If different for Futility decision,
specify in <code>nnF</code>.</p></dd>


<dt>pE</dt>
<dd><p>(<code>number</code>):<br> Response rate in Treatment group.</p></dd>


<dt>pS</dt>
<dd><p>(<code>number</code>):<br> Response rate in Control group.</p></dd>


<dt>deltaE</dt>
<dd><p>(<code>number</code>):<br> margin by which the response rate in the treatment group should
be better than in the standard of care or control or <code>S</code> group in Efficacy looks only.
Note that this can also be negative as well.</p></dd>


<dt>deltaF</dt>
<dd><p>(<code>number</code>):<br> margin by which the response rate in the treatment group should
be better than in the standard of care or control or <code>S</code> group in Futility looks only.
Note that this can also be negative as well.</p></dd>


<dt>relativeDelta</dt>
<dd><p>(<code>flag</code>):<br> If <code>TRUE</code>, then a <code>relativeDelta</code> is used. Represents that a minimum
response rate in magnitude of <code>delta</code> of the <code>S</code> non-responding patients
is included as the margin between treatment and control group. See note.</p></dd>


<dt>tL</dt>
<dd><p>(<code>number</code>):<br> posterior probability threshold for being below <code>p0</code>.</p></dd>


<dt>tU</dt>
<dd><p>(<code>number</code>):<br> posterior probability threshold for being above <code>p1</code>.</p></dd>


<dt>parE</dt>
<dd><p>(<code>numeric</code>):<br> alpha and beta parameters for the prior on the treatment population.
Default set at alpha = 1, beta = 1, or uniform prior.</p></dd>


<dt>parS</dt>
<dd><p>(<code>numeric</code> or <code>matrix</code>):<br> parameters for beta distribution. If it is a matrix, it needs to have 2 columns,
and each row corresponds to each component of a beta-mixture distribution
for the <code>S</code> group. See details.</p></dd>


<dt>randRatio</dt>
<dd><p>(<code>numeric</code>):<br> The randomisation ratio between treatment and control. Must be greater than 0 and maximum of 1.</p></dd>


<dt>sim</dt>
<dd><p>(<code>number</code>):<br> number of simulations.</p></dd>


<dt>wiggle</dt>
<dd><p>(<code>flag</code>):<br> generate random look locations (not default).
if <code>TRUE</code>, optional to specify <code>dist</code> (see @details).</p></dd>


<dt>nnF</dt>
<dd><p>(<code>numeric</code>):<br> sample size or sizes where study can be stopped for Futility decision if different from Efficacy decision.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Final looks are only performed at the maximum sample size.</p>
<p>At each interim or final look, a futility or efficacy or both can be performed.</p>
<p>The rules for Stop, Go and Gray Zone (where applicable), and use of beta priors are the same
as in <code><a href="ocPostprobDist.html">ocPostprobDist()</a></code> where the only difference here is to emulate a
randomized-controlled trial setting.</p>
<p>The returned value is a list with the following elements:</p><ul><li><p><code>oc</code>: matrix with operating characteristics with the following details:</p></li>
<li><p><code>ExpectedN</code>: expected number of patients in the trials in both treatment and SOC group</p></li>
<li><p><code>ExpectedNactive</code> : the mean of the number of patients in treatment arm</p></li>
<li><p><code>ExpectedNcontrol</code>: the mean of the number of patients in control arm</p></li>
<li><p><code>PrStopEarly</code>: probability to stop the trial early (before reaching the maximum sample size)</p></li>
<li><p><code>PrEarlyEff</code>: probability of Early Go decision</p></li>
<li><p><code>PrEarlyFut</code>: probability of Early Stop decision</p></li>
<li><p><code>PrEfficacy</code>: probability of Go decision</p></li>
<li><p><code>PrFutility</code>: probability of Stop decision</p></li>
<li><p><code>PrGrayZone</code>: probability of Evaluate or "Gray Zone" decision (between Go and Stop)</p></li>
<li><p><code>Decision</code> : numeric of results with <code>TRUE</code> as Go, <code>FALSE</code> as Stop and <code>NA</code> as Evaluate decision.</p></li>
<li><p><code>SampleSize</code> : numeric of sample sizes from <code>nnE</code> or <code>nnF</code> or both.</p></li>
<li><p><code>wiggled_nnE</code> : user input for <code>nnE</code> with random distance applied.</p></li>
<li><p><code>wiggled_nnF</code> : user input for <code>nnF</code> with random distance applied.</p></li>
<li><p><code>wiggled_dist</code> : magnitude of random distance applied in order of input looks.</p></li>
<li><p><code>params</code> : all user input arguments.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># When `relativeDelta = TRUE`:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPostprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.15</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  tL <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  tU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      12.2        0.94        0.2       0.74       0.22       0.78          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            6.14             6.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNactive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6.14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37]  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 20 10 10 30 10 10 10 30 10 10 20 10 10 30 10 10 10 10 20 10 10 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 10 10 10 10 10 10 20 10 10 10 10 10 10 10 10 10 10 10 10 10 20 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  5  5 15  5  6  5 15  4  3  8  5  4 15  6  7  6  6  9  4  3  5  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7  6  4  4  5  7 11  8  5  6  6  4  4  4  6  6  7  3  3  3 10  7  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  5  5 15  5  4  5 15  6  7 12  5  6 15  4  3  4  4 11  6  7  5  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  3  4  6  6  5  3  9  2  5  4  4  6  6  6  4  4  3  7  7  7 10  3  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPostprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When `relativeDelta = FALSE`:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPostprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.15</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  tL <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  tU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      12.8        0.92       0.22        0.7       0.24       0.74       0.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            6.48             6.32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNactive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6.48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6.32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13]    NA  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37]  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 20 10 10 30 10 10 10 30 10 10 20 10 30 30 10 10 10 10 20 10 10 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 20 10 10 10 10 10 20 10 10 10 10 10 10 10 10 10 10 10 10 10 20 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  5  5 15  5  6  5 15  4  3  8  5 15 15  6  7  6  6  9  4  3  5  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 13  6  4  4  5  7 11  8  5  6  6  4  4  4  6  6  7  3  3  3 10  7  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  5  5 15  5  4  5 15  6  7 12  5 15 15  4  3  4  4 11  6  7  5  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7  4  6  6  5  3  9  2  5  4  4  6  6  6  4  4  3  7  7  7 10  3  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPostprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Only one Futility look:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPostprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.15</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  tL <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  tU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fl">30</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        26        0.24       0.24          0       0.26       0.48       0.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           12.98            13.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNactive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 12.98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 13.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  TRUE FALSE FALSE FALSE    NA  TRUE    NA FALSE FALSE    NA FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13]    NA  TRUE    NA FALSE    NA FALSE  TRUE FALSE  TRUE FALSE  TRUE    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25]    NA  TRUE    NA  TRUE    NA  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37]  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE    NA    NA FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49]    NA FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 20 30 30 30 30 10 30 30 30 30 30 30 30 30 30 30 30 30 20 30 20 30 10 30 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 20 30 10 30 10 30 30 30 30 30 10 10 30 30 30 30 30 10 30 30 30 30 10 30 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10 15 15 15 15  6 15 15 15 15 15 15 15 15 15 15 15 15  9 15  9 15  7 15 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 13 15  4 15  5 15 15 15 15 15  6  4 15 15 15 15 15  3 15 15 15 15  3 15 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10 15 15 15 15  4 15 15 15 15 15 15 15 15 15 15 15 15 11 15 11 15  3 15 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7 15  6 15  5 15 15 15 15 15  4  6 15 15 15 15 15  7 15 15 15 15  7 15 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPostprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When `deltaF = 0`:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ocRctPostprobDist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  nnE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pE <span class="op">=</span> <span class="fl">0.4</span>,</span></span>
<span class="r-in"><span>  pS <span class="op">=</span> <span class="fl">0.3</span>,</span></span>
<span class="r-in"><span>  deltaE <span class="op">=</span> <span class="fl">0.15</span>,</span></span>
<span class="r-in"><span>  deltaF <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  relativeDelta <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  tL <span class="op">=</span> <span class="fl">0.2</span>,</span></span>
<span class="r-in"><span>  tU <span class="op">=</span> <span class="fl">0.8</span>,</span></span>
<span class="r-in"><span>  parE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  parS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  randRatio <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  sim <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  wiggle <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  nnF <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Advise to use sim &gt;= 50000 to achieve convergence</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $oc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedN PrStopEarly PrEarlyEff PrEarlyFut PrEfficacy PrFutility PrGrayZone</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      11.4        0.98        0.2       0.78       0.22       0.78          0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ExpectedNactive ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            5.74             5.66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNactive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ExpectedNcontrol</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5.66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $Decision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13] FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25] FALSE FALSE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37]  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49] FALSE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSize</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 20 10 10 10 10 10 10 10 10 10 20 10 10 30 10 10 10 10 20 10 10 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 10 10 10 10 10 10 20 10 10 10 10 10 10 10 10 10 10 10 10 10 20 10 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeActive</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  5  5  5  5  6  5  5  4  3  8  5  4 15  6  7  6  6  9  4  3  5  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  7  6  4  4  5  7 11  8  5  6  6  4  4  4  6  6  7  3  3  3 10  7  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $SampleSizeControl</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  5  5  5  5  4  5  5  6  7 12  5  6 15  4  3  4  4 11  6  7  5  3  5  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26]  3  4  6  6  5  3  9  2  5  4  4  6  6  6  4  4  3  7  7  7 10  3  7  5  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $union_nn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggled_nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 10 20 30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $wiggle_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ocRctPostprobDist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$pS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$deltaF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$relativeDelta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$tU</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$parS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(a = 1, b = 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$randRatio</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$sim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$wiggle</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params$nnF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c(10, 20, 30)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel Sabanes Bove, Markus Elze, Tony Pourmohamad, Jiawen Zhu, James Lymp, Anastasia Teterina, F. Hoffmann-La Roche Ltd.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

