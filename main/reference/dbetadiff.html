<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The Difference between Two Beta Distributions — dbetadiff • phase1b</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The Difference between Two Beta Distributions — dbetadiff"><meta name="description" content="
The Probability Density Function of the difference of two Beta Distributions.
Density, distribution function and quantile function for
the distribution of the difference of two Beta distributions with parameters parX and parY.
We denote X and Y as two random variables representing the response rate of Control and Treatment
group respectively. The assignment of Control and Treatment is practically interchangeable.
We denote Z as the difference between two groups such that Z = Y-X."><meta property="og:description" content="
The Probability Density Function of the difference of two Beta Distributions.
Density, distribution function and quantile function for
the distribution of the difference of two Beta distributions with parameters parX and parY.
We denote X and Y as two random variables representing the response rate of Control and Treatment
group respectively. The assignment of Control and Treatment is practically interchangeable.
We denote Z as the difference between two groups such that Z = Y-X."><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-125641273-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-125641273-1');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">phase1b</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/introduction.html">`phase1b`: Tools for Decision Making in Phase 1b Studies</a></li>
    <li><a class="dropdown-item" href="../articles/test.html">test</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/genentech/phase1b"><span class="fa fa-github"></span></a></li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://Genentech.github.io/phase1b/main">main</a> </div></li>
<!-- end dropdown for versions -->
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The Difference between Two Beta Distributions</h1>
      <small class="dont-index">Source: <a href="https://github.com/genentech/phase1b/blob/main/R/betadiff.R" class="external-link"><code>R/betadiff.R</code></a></small>
      <div class="d-none name"><code>dbetadiff.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>The Probability Density Function of the difference of two Beta Distributions.</p>
<p>Density, distribution function and quantile function for
the distribution of the difference of two Beta distributions with parameters <code>parX</code> and <code>parY</code>.
We denote <code>X</code> and <code>Y</code> as two random variables representing the response rate of Control and Treatment
group respectively. The assignment of Control and Treatment is practically interchangeable.
We denote <code>Z</code> as the difference between two groups such that <code>Z = Y-X</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dbetadiff</span><span class="op">(</span></span>
<span>  <span class="va">z</span>,</span>
<span>  <span class="va">parY</span>,</span>
<span>  <span class="va">parX</span>,</span>
<span>  eps <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span>,</span>
<span>  rel.tol <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">^</span><span class="fl">0.1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-z">z<a class="anchor" aria-label="anchor" href="#arg-z"></a></dt>
<dd><p>(<code>numeric</code>):<br> vector of differences between Control and Treatment arms such that <code>Z = Y-X</code></p></dd>


<dt id="arg-pary">parY<a class="anchor" aria-label="anchor" href="#arg-pary"></a></dt>
<dd><p>(<code>numeric</code>):<br> two parameters of <code>Y</code>'s Beta distribution (Treatment)</p></dd>


<dt id="arg-parx">parX<a class="anchor" aria-label="anchor" href="#arg-parx"></a></dt>
<dd><p>(<code>numeric</code>):<br> two parameters of <code>X</code>'s Beta distribution (Control)</p></dd>


<dt id="arg-eps">eps<a class="anchor" aria-label="anchor" href="#arg-eps"></a></dt>
<dd><p>(<code>number</code>):<br> lowest floating point number as lower bound of integration</p></dd>


<dt id="arg-rel-tol">rel.tol<a class="anchor" aria-label="anchor" href="#arg-rel-tol"></a></dt>
<dd><p>(<code>number</code>):<br> used in <code><a href="https://rdrr.io/r/stats/integrate.html" class="external-link">stats::integrate()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The density values</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p><code>X</code> and <code>Y</code> can be either Control or Treatment and <code>Z = X-Y</code>, subject to assumptions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># The following examples use these parameters:</span></span></span>
<span class="r-in"><span><span class="va">parX</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">52</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">parY</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5.5</span>, <span class="fl">20.5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The difference between Control and Treatment is denoted as z.</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, to <span class="op">=</span> <span class="fl">1</span>, length <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">z</span>, <span class="fu">dbetadiff</span><span class="op">(</span><span class="va">z</span>, parY <span class="op">=</span> <span class="va">parY</span>, parX <span class="op">=</span> <span class="va">parX</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"l"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="dbetadiff-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate probability of Go, if difference was at least 15%.</span></span></span>
<span class="r-in"><span><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/integrate.html" class="external-link">integrate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">dbetadiff</span>,</span></span>
<span class="r-in"><span>  parY <span class="op">=</span> <span class="va">parY</span>,</span></span>
<span class="r-in"><span>  parX <span class="op">=</span> <span class="va">parX</span>,</span></span>
<span class="r-in"><span>  lower <span class="op">=</span> <span class="fl">0.15</span>,</span></span>
<span class="r-in"><span>  upper <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ value       : num 0.677</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ abs.error   : num 2.41e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ subdivisions: int 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ message     : chr "OK"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ call        : language integrate(f = dbetadiff, lower = 0.15, upper = 1, parY = parY, parX = parX)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, "class")= chr "integrate"</span>
<span class="r-in"><span><span class="va">test</span><span class="op">$</span><span class="va">value</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.677447</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate probability of Stop, if difference was at most 50%.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/integrate.html" class="external-link">integrate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">dbetadiff</span>,</span></span>
<span class="r-in"><span>  parY <span class="op">=</span> <span class="va">parY</span>,</span></span>
<span class="r-in"><span>  parX <span class="op">=</span> <span class="va">parX</span>,</span></span>
<span class="r-in"><span>  lower <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span></span>
<span class="r-in"><span>  upper <span class="op">=</span> <span class="fl">0.5</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.9993974 with absolute error &lt; 8.6e-06</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel Sabanes Bove, Markus Elze, Tony Pourmohamad, Jiawen Zhu, James Lymp, Anastasia Teterina, Audrey Yeo, F. Hoffmann-La Roche Ltd.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

